!function(i){var t=i("body"),e=i('<div class="motice" />').appendTo(t),o={image:void 0,position:"right-bottom",theme:"dark",template:'<div class="motice-item"><img class="motice-img" /><div class="motice-text"></div></div>',width:"300",text:"",background:!0,autoHide:!0,clickHide:!0,delay:4e3,effect:"default",effectPrefix:"motice-effect-",clShow:"motice-show",clHide:"motice-hide"},s="animationend webkitAnimationEnd oAnimationEnd MSAnimationEnd",n={"left-top":i("<div />",{"class":"motice-container motice-container-left-top"}).appendTo(e),"left-bottom":i("<div />",{"class":"motice-container motice-container-left-bottom"}).appendTo(e),"right-top":i("<div />",{"class":"motice-container motice-container-right-top"}).appendTo(e),"right-bottom":i("<div />",{"class":"motice-container motice-container-right-bottom"}).appendTo(e),"fluid-top":i("<div />",{"class":"motice-container motice-container-fluid-top"}).appendTo(e),"fluid-bottom":i("<div />",{"class":"motice-container motice-container-fluid-bottom"}).appendTo(e)},a=function(i){var t=!1,e="Webkit Moz ms O".split(" "),o=document.createElement("div"),s=null;if(i=i.toLowerCase(),void 0!==o.style[i]&&(t=!0),t===!1){s=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<e.length;n++)if(void 0!==o.style[e[n]+s]){t=!0;break}}return t},c={animation:a("animation")&&a("transform")},m=function(t){this.options=i.extend({},o,t||{}),this.options.clEffect=this.options.effectPrefix+this.options.effect,this._init()};m.prototype={close:function(){var i=this;if(!this.isAnimating){if(clearTimeout(this.autoHideTimer),!c.animation)return void this.$el.remove();this.isAnimating=!0,this.$el.removeClass(this.options.clShow).addClass(this.options.clHide),this.$el.one(s,function(){i.isAnimating=!1,i.$el.remove()})}},show:function(){var i=this;if(!this.isAnimating){if(!c.animation)return this.$el.removeClass(this.options.clHide).addClass(this.options.clShow),void this._checkAutoHide();this.isAnimating=!0,this.$el.removeClass(this.options.clHide).addClass(this.options.clShow),this.$el.one(s,function(){i.isAnimating=!1,i._checkAutoHide()})}},_checkAutoHide:function(){var i=this.options,t=this;i.autoHide&&(clearTimeout(this.autoHideTimer),this.autoHideTimer=setTimeout(function(){t.close()},i.delay))},_init:function(){this.isAnimating=!1;var t=this.options,e=this.$el=i(t.template);this.theme=i.motice.themes[t.theme],e.addClass(this.theme.classes);var o=this.$text=e.find(".motice-text");o.html(t.text);var s=this.$img=e.find(".motice-img");void 0!==t.image?(e.addClass("motice-with-img"),s.attr("src",t.image)):(s.remove(),e.addClass("motice-without-img")),-1===t.position.indexOf("fluid")&&e.css("width",t.width),c.animation&&t.effect&&e.addClass(t.clEffect),e.data("motice",this),this._append(),this.show()},_append:function(){var i=this.options,t=this.$container=n[i.position],e=this.$el,o=this;"top"===i.position.slice(-3)?t.prepend(e):t.append(e),i.clickHide&&(e.css("cursor","pointer"),e.on("click",function(i){return"A"===i.target.tagName?!0:(o.close(),!1)}))}},i.motice=function(i){return new m(i)},i.motice.addTheme=function(i,t){(this.themes=this.themes||{})[i]=t},i.motice.close=function(i){var t=i.data("motice");t&&t.close()},i.motice.addTheme("dark",{classes:"motice-theme-dark"}),i.motice.addTheme("light",{classes:"motice-theme-light"})}(jQuery);